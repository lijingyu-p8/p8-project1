# **Elasticsearch**

## 一、核心概念

### 1.1倒排索引

![img](images\clipboard.png)

关系型数据库的正向索引，根据id可以定位到具体的某一条数据。

倒排索引是反过来，将数据进行分词拆分，查找的时候根据某个词汇，按照相关度最终定位到id。

倒排索引的数据结构：

- 包含这个关键词的document list
- 关键词在每个doc中出现的次数，TF term frequency:词频，搜索的时候，这一条数据中被搜索的这个字段中，这个词出现了几次
- 关键词在整个索引中出现的次数，IDF inverse doc frequency：这个关键词整体出现的次数
- 关键词在当前doc中出现的次数。
- 每个doc的长度，越长相关度越低。
- 包含这个关键词的所有doc的平均长度。

### 1.2优势

### 1.3关键词

### 1.4shard分片

## 二、安装和配置

